import e from "axios";
import t from "fs";
(async () => {
  try {
    let a = JSON.parse(t.readFileSync("reports/test.json")),
      { numTotalTests: r, numPassedTests: o, startTime: i } = a;
    console.log({ numTotalTests: r, numPassedTests: o, startTime: i });
    let s = JSON.parse(t.readFileSync("decacodeblitz.json")),
      l = {
        Accept: "*/*",
        Authorization: `"Bearer ${s.token}`,
        "Content-Type": "application/json",
      },
      n,
      c = await e.request({
        url: `https://us-central1-decacodeblitz.cloudfunctions.net/app/api/leaderboard/${s.id}`,
        method: "POST",
        headers: l,
        data: JSON.stringify({
          numTotalTests: r,
          numPassedTests: o,
          startTime: i,
          userEmail: s.email,
        }),
      });
    console.log(c.data);
  } catch (d) {
    console.log("error", d);
  }
})();
